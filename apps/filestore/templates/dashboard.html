{% extends "base.html" %}
{% load static %}

{% block title %}Dashboard{% endblock title %}

{% block content %}
<div class="container-fluid page">
    <div class="row flex-nowrap">
        <section class="col-2 px-3 bg-dark page__nav">
            {% include "_sidebar.html" %}
        </section>
        <section class="col p-0">
            {% include "_topbar.html" %}
            {% include "_all-files.html" %}
        </section>
    </div>
</div>
{% endblock content %}

{% block js %}
<script>
    highlight_navlink();
    add_upload();

    function highlight_navlink(){
        let links = document.querySelectorAll('.sidebar__link')
    
        links.forEach(link => link.addEventListener('click', event => {
            links.forEach(link => link.classList.remove('sidebar__link--active'))
            event.currentTarget.classList.add('sidebar__link--active')
        }))
    }

    function add_upload(){
        document.querySelector('#upload-btn').addEventListener('click', () => {
            document.querySelector('#upload-hidden').click();
        })
    }

</script>
{% endblock js %}